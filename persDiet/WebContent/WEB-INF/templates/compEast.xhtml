<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition >
	<div>
		<p:tabView>
			<p:tab title="Productos">
				
				<h:form >
					
					<p:panelGrid id="panelFood" columns="2" >
					
						<h:outputText value="Seleccione..."></h:outputText> 
						<p:selectOneMenu value="#{producto.id}"  > 
							<f:selectItem itemLabel="Seleccione..." itemValue="0"></f:selectItem>	
							<f:selectItems value="#{producto.listaDatos}" var="p" itemLabel="#{p[1]}" itemValue="#{p[0]}" ></f:selectItems>
						</p:selectOneMenu>
					
						<h:outputText value="Nombre del producto"></h:outputText>
						<p:inputText id="idNa" size="25" value="#{producto.name}"></p:inputText>
						
						<h:outputText value="medida de producto"></h:outputText>
						<p:inputText id="idQt" size="25" value="#{producto.qtt}"></p:inputText>
						
						<h:outputText value="kilocalorías"></h:outputText>
						<p:inputText id="idCa" size="25" value="#{producto.cal}"></p:inputText>		
						
						<h:outputText value="carbohidratos"></h:outputText>
						<p:inputText id="idCh" size="25" value="#{producto.carbohydrate}"></p:inputText>	
						
						<h:outputText value="Proteínas"></h:outputText>
						<p:inputText id="idPr" size="25" value="#{producto.protein}"></p:inputText>
						
						<h:outputText value="Lípidos"></h:outputText>
						<p:inputText id="idLi" size="25" value="#{producto.lipid}"></p:inputText>
						
						<h:outputText value="Contenido en calcio"></h:outputText>
						<p:inputText id="idCc" size="25" value="#{producto.calcium}"></p:inputText>		
						
						<h:outputText value="Contenido en hierro"></h:outputText>
						<p:inputText id="idFe" size="25" value="#{producto.iron}"></p:inputText>
						
				
					</p:panelGrid>
					
						<p:commandButton id="but1" value="Visualizar" ajax="true" update="idNa, idQt, idCa, idCh, idPr, idLi, idCc, idFe" action="#{producto.changeValuesFood}" ></p:commandButton>
						<p:commandButton id="but2" value="Grabar" ajax="true" update="panelFood" action="#{producto.recordFood}" ></p:commandButton> 
											
				</h:form>
				
			</p:tab>
			
			<p:tab title="Comidas">
				<h:form >			
					<p:panelGrid id="panelMeal" columns="2" >
					
						<h:outputText value="Seleccione..."></h:outputText> 
						<p:selectOneMenu value="#{producto.idMeal}"  >
							<f:selectItem itemLabel="Seleccione..." itemValue="0"></f:selectItem>					
							<f:selectItems value="#{producto.listMeals}" var="p" itemLabel="#{p[2]}" itemValue="#{p[0]}" ></f:selectItems>
						</p:selectOneMenu>
					 
						<h:outputText value="Nombre de comida"></h:outputText>
						<p:inputText id="idCNa" size="25" value="#{producto.nameMeal}"></p:inputText>
						
						<h:outputText value="medida de comida"></h:outputText>
						<p:inputText id="idCQt" size="25" value="#{producto.qttMeal}"></p:inputText>
						
						<h:outputText value="kilocalorías"></h:outputText>
						<p:inputText id="idCCa" size="25" value="#{producto.calMeal}"></p:inputText>		
						
						<h:outputText value="carbohidratos"></h:outputText>
						<p:inputText id="idCCh" size="25" value="#{producto.carbohydrateMeal}"></p:inputText>	
						
						<h:outputText value="Proteínas"></h:outputText>
						<p:inputText id="idCPr" size="25" value="#{producto.proteinMeal}"></p:inputText>
						
						<h:outputText value="Lípidos"></h:outputText>
						<p:inputText id="idCLi" size="25" value="#{producto.lipidMeal}"></p:inputText>
						
						<h:outputText value="Contenido en calcio"></h:outputText>
						<p:inputText id="idCCc" size="25" value="#{producto.calciumMeal}"></p:inputText>		
						
						<h:outputText value="Contenido en hierro"></h:outputText>
						<p:inputText id="idCFe" size="25" value="#{producto.ironMeal}"></p:inputText>
						
				
					</p:panelGrid>
					
						<p:commandButton id="but11" value="Visualizar" ajax="true" update="idCNa, idCQt, idCCa, idCCh, idCPr, idCLi, idCCc, idCFe" action="#{producto.changeValuesMeal}" ></p:commandButton>
						<p:commandButton id="but12" value="Grabar" ajax="true" update="panelMeal" action="#{producto.recordMeal}" ></p:commandButton> 
						<p:commandButton id="but13" type="button" value="Modificar" onclick="confModMeal.show()" ></p:commandButton>
						<p:commandButton id="but14" type="button" value="Borrar" onclick="confDelMeal.show()"></p:commandButton>
						<p:confirmDialog appendToBody="true" id="confirmation2" severity="alert" header="Borrado de comida" message="¿Desea borrar esta comida de la base de datos?" widgetVar="confDelMeal" modal="false" >
							<p:commandButton id="but15" value="Aceptar"  ajax="true" update="panelMeal" action="#{producto.deleteMeal}" oncomplete="confDelMeal.hide()"></p:commandButton>
							<p:commandButton id="but16" type="button" value="Cancelar" onclick="confDelMeal.hide()"></p:commandButton>
						</p:confirmDialog>
						<p:confirmDialog appendToBody="true" id="confirmationMod2" severity="alert" header="Modificación de comida" message="¿Desea modificar esta comida de la base de datos?" widgetVar="confModMeal" modal="false" >
							<p:commandButton id="but17" value="Aceptar"  ajax="true" update="panelMeal" action="#{producto.modifyMeal}" oncomplete="confModMeal.hide()"></p:commandButton>
							<p:commandButton id="but18" type="button" value="Cancelar" onclick="confModMeal.hide()"></p:commandButton>
						</p:confirmDialog>						
					
				</h:form>
							
			</p:tab>
		</p:tabView>
	</div>
		
		   
	
</ui:composition>
</html>